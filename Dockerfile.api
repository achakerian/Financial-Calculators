FROM node:18-alpine

WORKDIR /app

COPY package.json pnpm-workspace.yaml tsconfig.base.json ./
COPY api ./api

RUN corepack enable && pnpm install --frozen-lockfile || pnpm install

CMD ["pnpm", "--filter", "api", "dev"]

